{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export function createMarcup(arr) {\n\nreturn arr.map(({id, webformatURL, largeImageURL, tags, likes, views, comments, downloads}) =>\n    `<li class=\"images-list-item\" data-id='${id}'>\n    <a class=\"images-list-link\" href=\"${largeImageURL}\">\n        <img class=\"images-list-image\" src=\"${webformatURL}\" alt=\"${tags}\"></img>\n    </a>\n    <div class=\"tumb\">\n        <div class=\"block\">\n            <h2 class=\"tittle\">Likes</h2>\n            <p class=\"text\">${likes}</p>\n        </div>\n        <div class=\"block\">\n            <h2 class=\"tittle\">Views</h2>\n            <p class=\"text\">${views}</p>\n        </div>\n        <div class=\"block\">\n            <h2 class=\"tittle\">Comments</h2>\n            <p class=\"text\">${comments}</p>\n        </div>\n        <div class=\"block\">\n            <h2 class=\"tittle\">Downloads</h2>\n            <p class=\"text\">${downloads}</p>\n        </div>\n    </div>\n</li>`\n\n\n).join('')\n}\n","\nexport function searchImages(value) {\n    const BASE_URL = `https://pixabay.com/api/`;\n    const API_KEY = \"43313350-287c14b2000f5e13b9dad3a59\";\n\n    const params = new URLSearchParams({\n        key: API_KEY,\n        q: value,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true\n    })\n        \n    return fetch(`${BASE_URL}?${params}`)\n    .then(recponse => {\n        if(!recponse.ok) {\n            throw new Error(recponse.statusText)\n        }\n      \n        return recponse.json();\n    } );\n}\n\n       ","import { createMarcup } from \"./js/render-functions\";\nimport { searchImages } from \"./js/pixabay-api\";\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nconst formEl = document.querySelector(\".js-search-form\");\nconst imagesList = document.querySelector(\".js-images-list\");\nconst loaderEl = document.querySelector(\".loader\");\n\nconst lightbox = new SimpleLightbox('.js-images-list a', {\n  captions: true,\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nloaderEl.style.display = 'none';\n\n\n// loaderEl.style.borderColor = 'white';\n// loaderEl.style.borderBottomColor = 'transparent';\n\nformEl.addEventListener('submit', handleSubmit);\n\n function handleSubmit(event) {\n    event.preventDefault();\n    \n   \n    \n    loaderEl.style.display = 'block';\n    imagesList.innerHTML = '';\n\n  const searchInput = event.currentTarget.querySelector('.search-input').value;\n\n       searchImages(searchInput)\n       .then(data => {\n      \n        \n        if (!data.hits.length) {\n            iziToast.error({title: 'Error', messege: 'Sorry, there are no images matching your search query. Please try again!',})\n       \n        return data;\n\n    } else {\n      imagesList.insertAdjacentHTML('beforeend', createMarcup(data.hits))\n\n\n        lightbox.refresh();\n       searchInput = '';\n    }\n  })\n      \n   \n\n    .catch(error => {\n      \n     \n      if(error.length != undefined) {\n        iziToast.error({\n            title: 'Error',\n            message:\n              'Sorry, there are no images matching your search query. Please try again!',\n          });\n      }\n      \n    })\n    .finally(() =>{\n     \n      loaderEl.style.display = 'none';\n      })\n}\n"],"names":["createMarcup","arr","id","webformatURL","largeImageURL","tags","likes","views","comments","downloads","searchImages","value","BASE_URL","API_KEY","params","recponse","formEl","imagesList","loaderEl","lightbox","SimpleLightbox","handleSubmit","event","searchInput","data","iziToast","error"],"mappings":"6vBAAO,SAASA,EAAaC,EAAK,CAElC,OAAOA,EAAI,IAAI,CAAC,CAAC,GAAAC,EAAI,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IACrF,yCAAyCP,CAAE;AAAA,wCACPE,CAAa;AAAA,8CACPD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,8BAK1CC,CAAK;AAAA;AAAA;AAAA;AAAA,8BAILC,CAAK;AAAA;AAAA;AAAA;AAAA,8BAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,8BAIRC,CAAS;AAAA;AAAA;AAAA,MAMvC,EAAE,KAAK,EAAE,CACT,CC5BO,SAASC,EAAaC,EAAO,CAChC,MAAMC,EAAW,2BACXC,EAAU,qCAEVC,EAAS,IAAI,gBAAgB,CAC/B,IAAKD,EACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EAED,OAAO,MAAM,GAAGC,CAAQ,IAAIE,CAAM,EAAE,EACnC,KAAKC,GAAY,CACd,GAAG,CAACA,EAAS,GACT,MAAM,IAAI,MAAMA,EAAS,UAAU,EAGvC,OAAOA,EAAS,MACxB,EACA,CCZA,MAAMC,EAAS,SAAS,cAAc,iBAAiB,EACjDC,EAAa,SAAS,cAAc,iBAAiB,EACrDC,EAAW,SAAS,cAAc,SAAS,EAE3CC,EAAW,IAAIC,EAAe,oBAAqB,CACvD,SAAU,GACV,aAAc,MACd,aAAc,GAChB,CAAC,EAEDF,EAAS,MAAM,QAAU,OAMzBF,EAAO,iBAAiB,SAAUK,CAAY,EAE7C,SAASA,EAAaC,EAAO,CAC1BA,EAAM,eAAc,EAIpBJ,EAAS,MAAM,QAAU,QACzBD,EAAW,UAAY,GAEzB,MAAMM,EAAcD,EAAM,cAAc,cAAc,eAAe,EAAE,MAElEZ,EAAaa,CAAW,EACvB,KAAKC,GAAQ,CAGb,GAAKA,EAAK,KAAK,OAMjBP,EAAW,mBAAmB,YAAajB,EAAawB,EAAK,IAAI,CAAC,EAGhEL,EAAS,QAAO,EACjBI,EAAc,OATT,QAAAE,EAAS,MAAM,CAAC,MAAO,QAAS,QAAS,2EAA4E,EAElHD,CASf,CAAG,EAIE,MAAME,GAAS,CAGXA,EAAM,QAAU,MACjBD,EAAS,MAAM,CACX,MAAO,QACP,QACE,0EACd,CAAW,CAGX,CAAK,EACA,QAAQ,IAAK,CAEZP,EAAS,MAAM,QAAU,MAC/B,CAAO,CACP"}